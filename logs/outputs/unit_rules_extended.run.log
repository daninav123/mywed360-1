[2025-09-09T12:25:27.888Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 18[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 14:25:23
[2m   Duration [22m 3.76s[2m (transform 186ms, setup 537ms, collect 576ms, tests 18ms, environment 1.36s, prepare 670ms)[22m


[STDERR]
[2m14:25:26[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T12:26:03.586Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 19[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 14:25:58
[2m   Duration [22m 4.28s[2m (transform 191ms, setup 600ms, collect 662ms, tests 19ms, environment 1.65s, prepare 750ms)[22m


[STDERR]
[2m14:26:02[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T12:26:37.511Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 18[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 14:26:33
[2m   Duration [22m 3.77s[2m (transform 198ms, setup 518ms, collect 589ms, tests 18ms, environment 1.39s, prepare 667ms)[22m


[STDERR]
[2m14:26:36[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T12:27:12.875Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 18[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 14:27:08
[2m   Duration [22m 3.95s[2m (transform 191ms, setup 570ms, collect 640ms, tests 18ms, environment 1.49s, prepare 569ms)[22m


[STDERR]
[2m14:27:11[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T12:28:15.121Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 20[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 14:28:10
[2m   Duration [22m 4.11s[2m (transform 213ms, setup 543ms, collect 689ms, tests 20ms, environment 1.48s, prepare 653ms)[22m


[STDERR]
[2m14:28:14[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T12:28:51.431Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 17[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 14:28:47
[2m   Duration [22m 3.99s[2m (transform 194ms, setup 549ms, collect 599ms, tests 17ms, environment 1.50s, prepare 693ms)[22m


[STDERR]
[2m14:28:50[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T12:29:27.635Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 14[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 14:29:23
[2m   Duration [22m 4.23s[2m (transform 209ms, setup 541ms, collect 605ms, tests 14ms, environment 1.60s, prepare 844ms)[22m


[STDERR]
[2m14:29:26[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T12:52:07.902Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 15[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 14:52:03
[2m   Duration [22m 4.20s[2m (transform 188ms, setup 550ms, collect 616ms, tests 15ms, environment 1.51s, prepare 242ms)[22m


[STDERR]
[2m14:52:06[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T12:52:36.501Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 15[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 14:52:32
[2m   Duration [22m 3.85s[2m (transform 179ms, setup 540ms, collect 590ms, tests 15ms, environment 1.45s, prepare 649ms)[22m


[STDERR]
[2m14:52:35[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T12:53:04.858Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 20[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 14:53:00
[2m   Duration [22m 3.77s[2m (transform 166ms, setup 487ms, collect 569ms, tests 20ms, environment 1.41s, prepare 709ms)[22m


[STDERR]
[2m14:53:03[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T12:53:33.220Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 17[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 14:53:29
[2m   Duration [22m 3.88s[2m (transform 189ms, setup 556ms, collect 570ms, tests 17ms, environment 1.47s, prepare 669ms)[22m


[STDERR]
[2m14:53:32[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T12:54:02.961Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 20[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 14:53:58
[2m   Duration [22m 4.22s[2m (transform 200ms, setup 611ms, collect 673ms, tests 20ms, environment 1.60s, prepare 761ms)[22m


[STDERR]
[2m14:54:01[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T12:54:31.224Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 15[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 14:54:26
[2m   Duration [22m 3.87s[2m (transform 189ms, setup 526ms, collect 586ms, tests 15ms, environment 1.46s, prepare 541ms)[22m


[STDERR]
[2m14:54:30[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T12:54:59.984Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 19[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 14:54:55
[2m   Duration [22m 3.76s[2m (transform 184ms, setup 528ms, collect 565ms, tests 19ms, environment 1.40s, prepare 686ms)[22m


[STDERR]
[2m14:54:59[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T12:55:28.695Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 17[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 14:55:24
[2m   Duration [22m 4.01s[2m (transform 185ms, setup 550ms, collect 631ms, tests 17ms, environment 1.54s, prepare 729ms)[22m


[STDERR]
[2m14:55:27[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T12:55:57.320Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 15[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 14:55:52
[2m   Duration [22m 4.08s[2m (transform 203ms, setup 551ms, collect 634ms, tests 15ms, environment 1.63s, prepare 600ms)[22m


[STDERR]
[2m14:55:56[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T12:56:25.962Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 14[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 14:56:21
[2m   Duration [22m 3.80s[2m (transform 173ms, setup 512ms, collect 564ms, tests 14ms, environment 1.48s, prepare 628ms)[22m


[STDERR]
[2m14:56:25[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T12:56:54.000Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 16[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 14:56:49
[2m   Duration [22m 3.85s[2m (transform 206ms, setup 576ms, collect 583ms, tests 16ms, environment 1.45s, prepare 692ms)[22m


[STDERR]
[2m14:56:53[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T12:57:22.204Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 18[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 14:57:17
[2m   Duration [22m 3.86s[2m (transform 192ms, setup 543ms, collect 603ms, tests 18ms, environment 1.45s, prepare 681ms)[22m


[STDERR]
[2m14:57:21[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T12:57:50.610Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 15[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 14:57:46
[2m   Duration [22m 3.90s[2m (transform 217ms, setup 613ms, collect 628ms, tests 15ms, environment 1.47s, prepare 636ms)[22m


[STDERR]
[2m14:57:49[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T13:14:19.116Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 16[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 15:14:15
[2m   Duration [22m 3.65s[2m (transform 193ms, setup 510ms, collect 582ms, tests 16ms, environment 1.37s, prepare 586ms)[22m


[STDERR]
[2m15:14:18[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T13:15:34.084Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 16[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 15:15:29
[2m   Duration [22m 3.80s[2m (transform 186ms, setup 538ms, collect 580ms, tests 16ms, environment 1.40s, prepare 722ms)[22m


[STDERR]
[2m15:15:33[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T13:16:48.990Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 15[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 15:16:44
[2m   Duration [22m 3.94s[2m (transform 191ms, setup 529ms, collect 590ms, tests 15ms, environment 1.56s, prepare 657ms)[22m


[STDERR]
[2m15:16:48[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T13:18:05.469Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 16[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 15:18:01
[2m   Duration [22m 4.00s[2m (transform 201ms, setup 550ms, collect 634ms, tests 16ms, environment 1.52s, prepare 663ms)[22m


[STDERR]
[2m15:18:04[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T13:19:19.461Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 15[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 15:19:15
[2m   Duration [22m 3.90s[2m (transform 194ms, setup 572ms, collect 620ms, tests 15ms, environment 1.59s, prepare 592ms)[22m


[STDERR]
[2m15:19:18[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T13:50:06.989Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 20[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 15:50:02
[2m   Duration [22m 4.07s[2m (transform 172ms, setup 543ms, collect 625ms, tests 20ms, environment 1.41s, prepare 739ms)[22m


[STDERR]
[2m15:50:05[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T13:54:15.335Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [31mâ¯[39m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m[32m 16[2mms[22m[39m
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can CREATE new wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot CREATE new top-level wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can ADD planner to plannerIds
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner can add THEMSELVES to plannerIds (invitation accepted)
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mPlanner cannot modify other fields while adding themselves
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mAssistant cannot WRITE wedding doc
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mOwner can DELETE wedding
   [2m[90mâ†“[39m[22m Wedding document permissions[2m > [22mExternal user cannot READ wedding with missing plannerIds array
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mOwner can CREATE task
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mPlanner added later can WRITE tasks
   [2m[90mâ†“[39m[22m Wedding subcollection permissions[2m > [22mAssistant cannot WRITE tasks
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mAny auth user can CREATE invitation
   [2m[90mâ†“[39m[22m weddingInvitations rules[2m > [22mUnauthenticated cannot CREATE invitation

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 15:54:10
[2m   Duration [22m 4.16s[2m (transform 179ms, setup 563ms, collect 645ms, tests 16ms, environment 1.58s, prepare 672ms)[22m


[STDERR]
[2m15:54:14[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: Module "fs" has been externalized for browser compatibility, imported by "C:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia/src/__tests__/firestore.rules.extended.test.js". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.[39m
  Plugin: [35mvite:resolve[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: readFileSync is not a function[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m10:17[22m[39m
    [90m  8| [39m
    [90m  9| [39m[34mbeforeAll[39m([35masync[39m () [33m=>[39m {
    [90m 10| [39m  const rules = readFileSync(new URL('../../firestore.rules', import.mâ€¦
    [90m   | [39m                [31m^[39m
    [90m 11| [39m  testEnv = await initializeTestEnvironment({ projectId: PROJECT_ID, fâ€¦
    [90m 12| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/firestore.rules.extended.test.js[2m [ src/__tests__/firestore.rules.extended.test.js ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'cleanup')[39m
[36m [2mâ¯[22m src/__tests__/firestore.rules.extended.test.js:[2m43:17[22m[39m
    [90m 41| [39m
    [90m 42| [39m[34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 43| [39m  [35mawait[39m testEnv[33m.[39m[34mcleanup[39m()[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 44| [39m})[33m;[39m
    [90m 45| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[EXIT 1]

[2025-09-09T13:58:21.510Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [2m[90mâ†“[39m[22m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m

[2m Test Files [22m [33m1 skipped[39m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 15:58:18
[2m   Duration [22m 2.17s[2m (transform 126ms, setup 479ms, collect 522ms, tests 0ms, environment 0ms, prepare 581ms)[22m


[STDERR]

[EXIT 0]

[2025-09-09T14:02:58.831Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [2m[90mâ†“[39m[22m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m

[2m Test Files [22m [33m1 skipped[39m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 16:02:55
[2m   Duration [22m 2.38s[2m (transform 130ms, setup 509ms, collect 565ms, tests 0ms, environment 1ms, prepare 633ms)[22m


[STDERR]

[EXIT 0]

[2025-09-09T14:07:30.049Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [2m[90mâ†“[39m[22m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m

[2m Test Files [22m [33m1 skipped[39m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 16:07:27
[2m   Duration [22m 2.31s[2m (transform 130ms, setup 497ms, collect 518ms, tests 0ms, environment 0ms, prepare 630ms)[22m


[STDERR]

[EXIT 0]

[2025-09-09T14:13:07.004Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [2m[90mâ†“[39m[22m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m

[2m Test Files [22m [33m1 skipped[39m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 16:13:04
[2m   Duration [22m 2.43s[2m (transform 122ms, setup 487ms, collect 518ms, tests 0ms, environment 0ms, prepare 840ms)[22m


[STDERR]

[EXIT 0]

[2025-09-09T14:18:08.690Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [2m[90mâ†“[39m[22m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m

[2m Test Files [22m [33m1 skipped[39m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 16:18:05
[2m   Duration [22m 2.36s[2m (transform 113ms, setup 509ms, collect 529ms, tests 0ms, environment 0ms, prepare 787ms)[22m


[STDERR]

[EXIT 0]

[2025-09-09T14:22:43.759Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [2m[90mâ†“[39m[22m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m

[2m Test Files [22m [33m1 skipped[39m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 16:22:40
[2m   Duration [22m 2.46s[2m (transform 133ms, setup 492ms, collect 511ms, tests 0ms, environment 0ms, prepare 750ms)[22m


[STDERR]

[EXIT 0]

[2025-09-09T14:27:19.078Z] CMD: npm run test:unit -- src/__tests__/firestore.rules.extended.test.js
[STDOUT]

> mywed360@0.1.0 test:unit
> vitest run src/__tests__/firestore.rules.extended.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Administrator/Documents/Lovenda/lovenda13123123 - copia[39m

 [2m[90mâ†“[39m[22m src/__tests__/firestore.rules.extended.test.js [2m([22m[2m13 tests[22m[2m | [22m[33m13 skipped[39m[2m)[22m

[2m Test Files [22m [33m1 skipped[39m[90m (1)[39m
[2m      Tests [22m [33m13 skipped[39m[90m (13)[39m
[2m   Start at [22m 16:27:16
[2m   Duration [22m 2.32s[2m (transform 120ms, setup 475ms, collect 539ms, tests 0ms, environment 0ms, prepare 705ms)[22m


[STDERR]

[EXIT 0]

