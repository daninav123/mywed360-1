===============================================
üî• CREAR √çNDICES EN FIRESTORE - INSTRUCCIONES
===============================================

Los pagos est√°n creados en Firestore, pero el backend NO puede leerlos
sin los √≠ndices compuestos.

üìã NECESITAS CREAR 2 √çNDICES:

---------------------------------------------------
√çNDICE 1: payments ‚Üí status + updatedAt
---------------------------------------------------

üîó LINK DIRECTO (haz click):
https://console.firebase.google.com/v1/r/project/lovenda-98c77/firestore/indexes?create_composite=Clpwcm9qZWN0cy9sb3ZlbmRhLTk4Yzc3L2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy9wYXltZW50cy9pbmRleGVzL18QARoKCgZzdGF0dXMQARoNCgl1cGRhdGVkQXQQARoMCghfX25hbWVfXxAB

Configuraci√≥n Manual (si el link no funciona):
- Colecci√≥n: payments
- Campo 1: status ‚Üí Ascending
- Campo 2: updatedAt ‚Üí Ascending
- Query scope: Collection

---------------------------------------------------
√çNDICE 2: payments ‚Üí status + createdAt
---------------------------------------------------

üîó LINK DIRECTO (haz click):
https://console.firebase.google.com/v1/r/project/lovenda-98c77/firestore/indexes?create_composite=Clpwcm9qZWN0cy9sb3ZlbmRhLTk4Yzc3L2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy9wYXltZW50cy9pbmRleGVzL18QARoKCgZzdGF0dXMQARoNCgljcmVhdGVkQXQQARoMCghfX25hbWVfXxAB

Configuraci√≥n Manual (si el link no funciona):
- Colecci√≥n: payments
- Campo 1: status ‚Üí Ascending
- Campo 2: createdAt ‚Üí Ascending
- Query scope: Collection

---------------------------------------------------
‚è±Ô∏è TIEMPO DE CONSTRUCCI√ìN
---------------------------------------------------

Los √≠ndices tardan entre 2-5 minutos en construirse.
Ver√°s un estado "Building..." que luego cambia a "Enabled".

---------------------------------------------------
‚úÖ VERIFICACI√ìN
---------------------------------------------------

Una vez creados (estado "Enabled"), verifica:

1. Recarga el dashboard de admin:
   http://localhost:5173/admin/dashboard

2. La tarjeta "Facturaci√≥n (30 d√≠as)" debe mostrar:
   ~10,070 ‚Ç¨ (o similar)

3. Tambi√©n puedes ir a:
   http://localhost:5173/admin/debug/payments
   Y hacer clic en "Consultar Pagos" para ver los 50 pagos.

---------------------------------------------------
üÜò SI ALGO FALLA
---------------------------------------------------

Los logs del backend mostrar√°n:
‚ùå payments aggregation failed 9 FAILED_PRECONDITION

Esto significa que los √≠ndices a√∫n se est√°n construyendo.
Espera 2-5 minutos m√°s y vuelve a intentar.

---------------------------------------------------
üìö M√ÅS INFO
---------------------------------------------------

Ver: docs/firestore-indexes-needed.md

===============================================
